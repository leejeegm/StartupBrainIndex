# 개인 PC에서 SBI 사이트 항상 접속 가능하게 셋팅하기

두 가지 방식이 있습니다. **같은 Wi‑Fi에서만** 쓸지, **인터넷(밖에서)에서도** 쓸지에 따라 선택하세요.

---

## 방식 1: 같은 Wi‑Fi에서만 접속 (PC만 켜 두면 됨)

모바일·다른 기기가 **집/사무실 Wi‑Fi에 연결된 상태**에서만 접속하는 경우입니다. 인터넷에 서비스를 공개하지 않으므로 상대적으로 안전합니다.

### 1-1. PC가 꺼지지 않도록

- **절전/슬립 끄기**  
  설정 → 시스템 → 전원 및 절전 → “다음 시간 후 PC를 슬립 모드로 전환” → **안 함** (또는 원하는 시간)
- **디스플레이만 끄기**는 괜찮습니다. “절전”만 안 들어가면 서버는 계속 동작합니다.

### 1-2. Windows 부팅 시 서버 자동 실행

서버를 매번 수동으로 실행하지 않아도 되게 할 수 있습니다.

**방법 A: 시작 프로그램에 등록 (간단)**

1. `Win + R` → `shell:startup` 입력 → Enter  
   → “시작 프로그램” 폴더가 열립니다.
2. `run_server.bat` 파일을 **바로가기**로 만들어 이 폴더에 넣습니다.  
   - `run_server.bat` 우클릭 → “바로 가기 만들기”  
   - 그 바로가기를 **복사**해서 `shell:startup` 폴더에 붙여넣기
3. PC를 다시 부팅하면 로그인 후 서버가 자동으로 실행됩니다.  
   - 콘솔 창이 뜨면 그대로 두세요. 최소화해도 됩니다.

**방법 B: 작업 스케줄러로 등록 (로그인 전에는 실행 안 됨)**

1. `작업 스케줄러` 검색 → 실행
2. “기본 작업 만들기” → 이름: `SBI 서버`
3. 트리거: “컴퓨터가 시작할 때”
4. 동작: “프로그램 시작”  
   - 프로그램: `C:\Windows\System32\cmd.exe`  
   - 인수: `/c "cd /d C:\vibeTest\project2_StartupBrainIndex && run_server.bat"`  
     (경로는 실제 프로젝트 폴더 경로로 바꾸세요)
5. “가장 높은 권한으로 실행” 필요 없음. 완료 후 테스트: PC 재부팅 → 로그인 후 서버 창이 뜨는지 확인.

### 1-3. 방화벽에서 포트 허용

같은 Wi‑Fi의 모바일이 접속하려면 PC 방화벽에서 해당 포트를 열어야 합니다.

1. Windows 보안 → 방화벽 및 네트워크 보호 → “고급 설정”
2. “인바운드 규칙” → “새 규칙”
3. “포트” → TCP → 특정 로컬 포트: **8000** (또는 run_server.bat에 나오는 포트)
4. “연결 허용” → 도메인/개인/공용 중 **개인**만 체크해도 됨 (같은 Wi‑Fi 보통 “개인”)
5. 이름: `SBI 서버 8000` 등으로 저장

이렇게 하면 **PC 전원이 들어와 있고, 한 번 로그인해서 서버가 떠 있는 상태**에서는 같은 Wi‑Fi의 모바일에서 `http://PC의IP:8000/` 로 접속할 수 있습니다.

---

## 방식 2: 인터넷(밖)에서도 접속 (공유기 포트포워딩)

집 밖(다른 Wi‑Fi, LTE 등)에서도 접속하려면, 공유기가 “외부 → 내 PC:8000”으로 넘겨주도록 설정해야 합니다.

### 2-1. PC 고정 IP (권장)

공유기에서 “DHCP 예약” 또는 “IP 예약”으로 PC의 IP를 고정합니다.

1. PC에서 `ipconfig`로 **IPv4 주소**(예: 192.168.0.10) 확인
2. 공유기 관리 페이지(보통 192.168.0.1 또는 192.168.1.1) 접속
3. “DHCP 예약” / “고정 IP” 메뉴에서  
   - PC의 MAC 주소 또는 이름 선택  
   - 예약 IP를 192.168.0.10 처럼 위에서 본 주소로 설정  
이렇게 하면 PC를 재부팅해도 같은 IP를 쓰게 됩니다.

### 2-2. 포트포워딩

1. 공유기 관리 페이지에서 “포트포워딩” / “가상 서버” / “NAT” 메뉴 찾기
2. 새 규칙 추가:
   - **외부 포트**: 8000 (또는 8080 등 원하는 포트)
   - **내부 IP**: PC의 고정 IP (예: 192.168.0.10)
   - **내부 포트**: 8000
   - **프로토콜**: TCP
3. 저장 후, **외부에서 접속 주소**는  
   `http://공인IP:8000/`  
   입니다. 공인 IP는 “내 IP” 검색 또는 공유기 관리 페이지에서 확인할 수 있습니다.

### 2-3. 보안 주의

- 인터넷에 열면 **전 세계**에서 접속 시도가 올 수 있습니다.
- **관리자/회원 비밀번호**를 꼭 강하게 설정하세요.
- 가능하면:
  - 관리자 페이지(`/admin`)는 특정 IP만 허용하거나,
  - 나중에 HTTPS(SSL)를 붙이는 것을 고려하세요.

---

## 요약 표

| 목표 | PC 셋팅 | 추가 설정 |
|------|----------|-----------|
| **같은 Wi‑Fi에서만, PC 켜 둠** | 절전 끄기 + 부팅 시 `run_server.bat` 자동 실행 | 방화벽에서 8000 포트 허용 |
| **밖에서도 접속** | 위와 동일 + PC 고정 IP | 공유기 포트포워딩 8000 → PC:8000, 비밀번호 강화 |

어디까지 할지 정하시면, 그에 맞춰 “지금 바로 할 단계”만 따로 정리해 드릴 수도 있습니다.
